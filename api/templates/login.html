<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <link rel="stylesheet" href="../static/styles/style.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <h2>Login</h2>
    <p>{{ msg }}</p>
    <form action="/login" method="post">
        <table>
            <tr>
                <th>User Id</th>
                <td><input readonly required type="text" id="userId" name="userId"></td>
            </tr>
            <tr>
                <th>User Name</th>
                <td><input readonly required type="text" id="userName" name="userName"></td>
            </tr>
        </table>
        <input type="submit" value="Login using Telegram">
    </form>
    <script async src="https://telegram.org/js/telegram-widget.js?22" data-telegram-login="deregymbot" data-size="large" data-radius="14" data-onauth="onTelegramAuth(user)" data-request-access="write"></script>
<script type="text/javascript">
  function onTelegramAuth(user) {
    alert('Logged in as ' + user.first_name + ' ' + user.last_name + ' (' + user.id + (user.username ? ', @' + user.username : '') + ')');
  }
</script>
    <pre><code id="webview_data"></code></pre>
    <script src="../static/scripts/index.js?v=12"></script>
</body>
</html>
